<!-- app/templates/parent_dashboard.html -->
{% extends 'layout.html' %}

{% block content %}
    <h1>Parent Dashboard</h1>

    {% for student in students %}
        <h2>Student: {{ student.name }}</h2>
        <table>
            <thead>
                <tr>
                    <th>Test Name</th>
                    <th>Score</th>
                    <th>Class Average</th>
                    <th>Rank in Class</th>
                </tr>
            </thead>
            <tbody>
                {% for result in student.rank_data %}
                    <tr>
                        <td>{{ result.test_name }}</td>
                        <td>{{ result.score }}/100</td>
                        <td>{{ result.class_average|round(2) }}/100</td>
                        <td>{{ result.rank }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <p>Average Score: <strong>{{ student.average_score }}/100</strong></p>
        <hr>
    {% endfor %}
{% endblock %}
